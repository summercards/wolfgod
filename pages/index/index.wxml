<view class="container">
  <view class="players">
    <block wx:for="{{players}}" wx:key="index">
      <view class="player {{item.alive ? '' : 'dead'}} {{item.role === '狼人' ? 'werewolf' : ''}} {{item.killedTonight ? 'killed' : ''}} {{item.role === '预言家' ? 'seer' : ''}} {{item.role === '女巫' ? 'witch' : ''}}"
            bindtap="onSelectPlayer" data-index="{{index}}">
        <view class="verify-tag" wx:if="{{item.verifyResult}}">{{item.verifyResult}}</view>
        <view class="ability-tag" wx:if="{{item.role === '女巫'}}">
          <text>解药</text> <text>毒药</text>
        </view>
        {{item.role ? item.number + '-' + item.role : item.number}}
      </view>
    </block>
  </view>

  <view class="controls">
    <button bindtap="startGame">开始游戏</button>
    <button bindtap="enterNight">进入夜晚</button>
    <button bindtap="enterDay">进入白天</button>
    <button bindtap="vote">投票</button>
    <button bindtap="killPlayer">淘汰玩家</button>
  </view>

  <scroll-view class="log" scroll-y="true">
    <block wx:for="{{logs}}" wx:key="index">
      <view>{{item}}</view>
    </block>
  </scroll-view>

  <view class="flow-control">
    <button bindtap="handleFlowAction">{{flowButtonText}}</button>
  </view>
</view>